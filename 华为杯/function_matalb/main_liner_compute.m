a=load('C:\\Users\\XT\\Desktop\\2.csv');
num_a=check(a);
%两个灭点
for i=1:2
k{i}=make_line(a(4*i-3:4*i,:),4);
mie(i,:)=miedian(k{i});
end
%两个灭点形成灭线M1和p9,p10的交点c1
temp=[mie;a(9,:);a(10,:)];
k_temp=make_line(temp,4);
c1=miedian(k_temp);
%c1和p11形成一条线L1,和p10,p12交于c2
L1=[c1;a(11,:)];
temp=[L1;a(12,:);a(10,:)];
k_temp=make_line(temp,4);
c2=miedian(k_temp);
%p10,p12和灭线M1交于c3
L2=[a(10,:);a(12,:)];
temp=[L2;mie(1,:);mie(2,:)];
k_temp=make_line(temp,4);
c3=miedian(k_temp);
%p10,p12,p13,p14,寻找灭点mie(3,:)
temp=[a(10,:);a(12,:);a(13,:);a(14,:)];
k_temp=make_line(temp,4);
mie(3,:)=miedian(k_temp);
%有用的点p10,c2,c3,mie(3,:)
useful_p=[a(10,:);c2;c3;mie(3,:)];
%计算公式
result=formula(useful_p,1.7);